scn aaZefirosSetEnchants

;Main script
;-----------------------------------------------------------------------------
;aaZefirosManager
;-----------------------------------------------------------------------------

;Used scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Used globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Description
;-----------------------------------------------------------------------------
;Given an array of items and enchantments, sets enchantment for each pair.
;Skips pair if enchantment is empty.
;-----------------------------------------------------------------------------

;Parameters
;-----------------------------------------------------------------------------
short Count
short Idx

ref Self
ref Ench

array_var Selfs
array_var Enchs
;-----------------------------------------------------------------------------



;-----------------------------------------------------------------------------
begin Function { Enchs, Selfs }
;-----------------------------------------------------------------------------

	;Iterate up to the end of the smaller array
	if eval( ar_Size Enchs ) < eval( ar_Size Selfs )

		Let Count := ar_Size Enchs

	else

		Let Count := ar_Size Selfs

	endif

	
	Let Idx := 0
	While ( Idx < Count )

		Let Ench := Enchs[Idx]
		Let Self := Selfs[Idx]

		;Set enchantment if it actually has any effects
		if ( GetMagicItemEffectCount Ench > 0 )

			DebugPrint "Assigning enchantment to %n." Self
			SetEnchantment Ench Self

		endif

		Let Idx += 1
	loop

	
	Return
;-----------------------------------------------------------------------------
end ;Function { Enchs, Selfs }
;-----------------------------------------------------------------------------
scn aaZefirosSetFlavorBox

;Main script
;-----------------------------------------------------------------------------
;aaZefirosManager
;-----------------------------------------------------------------------------

;Used scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Used globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Description
;-----------------------------------------------------------------------------
;Based on the Mode set, display a random flavor message box.
;Also prints message to console.
;-----------------------------------------------------------------------------

;Parameters
;-----------------------------------------------------------------------------
string_var Name
short Mode

float Ran
string_var Msg
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
begin Function { Name, Mode }
;-----------------------------------------------------------------------------

	Let Ran := rand 0 100


	;-----------------------------------------------------------------------------
	;Level cap
	;-----------------------------------------------------------------------------
	if ( Mode == 0 )

		if ( Ran <= 17 ) ;17%

			Let Msg := Name + " has become an impenetrable second skin."

		elseif ( Ran <= 33 ) ;16%

			Let Msg := Name + " reaches the apex of its power."

		elseif ( Ran <= 49 ) ;16%

			Let Msg := Name + " is complete."

		elseif ( Ran <= 66 ) ;17%

			Let Msg := "Snug to your frame, " + Name + " is like a second home."

		elseif ( Ran <= 83 ) ;17%

			Let Msg := Name + " has made you a mobile fortress."

		else ;17%

			Let Msg := "Magic or missile, claw or club, " + Name + " protects you from all."

		endif

	;-----------------------------------------------------------------------------
	;Full reset
	;-----------------------------------------------------------------------------
	elseif ( Mode == 1 )

		if ( Ran <= 25 )

			Let Msg := Name + " grows more robust."

		elseif ( Ran <= 50 )

			Let Msg := Name + " becomes closer to a second skin."

		elseif ( Ran <= 75 )

			Let Msg := Name + "'s weight assures you."

		else

			Let Msg := Name + " is more comfortable to wear."

		endif

	;-----------------------------------------------------------------------------
	;De-level
	;-----------------------------------------------------------------------------
	elseif ( Mode == 2 )

		if ( Ran <= 25 )

			Let Msg := "Test " + Name

		elseif ( Ran <= 50 )

			Let Msg := "Test " + Name

		elseif ( Ran <= 75 )

			Let Msg := "Test " + Name

		else

			Let Msg := "Test " + Name

		endif

	;-----------------------------------------------------------------------------
	;Test message
	;-----------------------------------------------------------------------------
	elseif ( Mode == 100 )

		Let Msg := "Test " + Name

	;-----------------------------------------------------------------------------
	;Error message
	;-----------------------------------------------------------------------------
	else

		Let Msg := "Message Mode out of range."

	endif


	DebugPrint "%BName:%b %z %BMode:%b %.0f %BRan:%b %.2f" Name Mode Ran
	MessageBox $Msg
	printc "%z" Msg


	sv_Destruct Msg
	Return
;-----------------------------------------------------------------------------
end ;Function { Name, Mode }
;-----------------------------------------------------------------------------
scn aaZefirosGetXPReq

;Main script
;-----------------------------------------------------------------------------
;aaZefirosManager
;-----------------------------------------------------------------------------

;Used scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Used globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related globals
;-----------------------------------------------------------------------------
;aaZefirosLevel
;aaZefirosXP
;aaZefirosXPReq
;-----------------------------------------------------------------------------

;Description
;-----------------------------------------------------------------------------
;Calculates XPReq, then returns it and the half way point from XP to XPReq.
;-----------------------------------------------------------------------------

;Parameters
;-----------------------------------------------------------------------------
short XPB
short XPM
float XP
short Lvl

float XPReq ;Return value
float XPH ;Return value
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
begin Function { XPB, XPM, XP, Lvl }
;-----------------------------------------------------------------------------

	;Calculate new XPReq
	Let XPReq := ( XPB * Lvl ) + ( XPM * Lvl * ( Lvl - 1 ) / 2 )
	
	;Calculate half way point
	Let XPH := ( XP + XPReq ) / 2
	
	
	SetFunctionValue ar_Map 0::XPReq 1::XPH
	Return
;-----------------------------------------------------------------------------
end ;Function { XPB, XPM, XP, Lvl }
;-----------------------------------------------------------------------------
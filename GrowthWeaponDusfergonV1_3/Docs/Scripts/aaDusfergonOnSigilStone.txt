scn aaDusfergonOnSigilStone

;Related scripts
;-----------------------------------------------------------------------------
;aaDusfergonManager
;aaDusfergonOnEnchant
;-----------------------------------------------------------------------------

;Related globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Description
;-----------------------------------------------------------------------------
;Undoes the last Sigil Stone enchantment.
;-----------------------------------------------------------------------------

;Parameters
;-----------------------------------------------------------------------------
ref Sigil
ref Enchanted
ref Weap
;-----------------------------------------------------------------------------



;-----------------------------------------------------------------------------
begin Function { Weap }
;-----------------------------------------------------------------------------

	MessageBoxEX "%n rejects the Sigil Stone used on it." Weap
	
	Set Sigil to GetLastUsedSigilStone
	Set Enchanted to GetLastSigilStoneCreatedItem

	Player.RemoveItemNS Enchanted 1
	Player.AddItemNS Weap 1
	Player.AddItem Sigil 1

	Return
;-----------------------------------------------------------------------------
end ;Function { Weap }
;-----------------------------------------------------------------------------
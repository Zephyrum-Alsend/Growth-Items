scn aaDusfergonCalcXPReq

;Main script
;-----------------------------------------------------------------------------
;aaDusfergonManager
;-----------------------------------------------------------------------------

;Used scripts
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Related scripts
;-----------------------------------------------------------------------------
;aaDusfergonBreak
;-----------------------------------------------------------------------------

;Used globals
;-----------------------------------------------------------------------------
;aaDusfergonXPReq
;-----------------------------------------------------------------------------

;Related globals
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------

;Description
;-----------------------------------------------------------------------------
;Calculates and sets XPReq, then returns the half way point to the new XPReq.
;-----------------------------------------------------------------------------

;Parameters
;-----------------------------------------------------------------------------
short Lvl
short XPReqHalf ;Return value
short XPReqBase
short XPReqMult
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
begin Function { Lvl, XPReqBase, XPReqMult, XPReqHalf }
;-----------------------------------------------------------------------------

	;Calculate new XPReq
	Set aaDusfergonXPReq to ( ( XPReqBase * Lvl ) + ( XPReqMult * ( Lvl * Lvl ) ) )

	;Calculate half way point
	Set XPReqHalf to aaDusfergonXPReq - ( ( XPReqBase + XPReqMult ) / 2 + ( XPReqMult * ( Lvl - 1 ) ) )

	SetFunctionValue XPReqHalf
	Return

;-----------------------------------------------------------------------------
end ;Function { Lvl, XPReqBase, XPReqMult, XPReqHalf }
;-----------------------------------------------------------------------------
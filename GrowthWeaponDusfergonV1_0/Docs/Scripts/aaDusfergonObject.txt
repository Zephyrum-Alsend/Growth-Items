scn aaDusfergonObject

;Related scripts
;-----------------------------------------------------------------------------
;aaDusfergonManager
;aaDusfergonOnHit
;aaDusfergonOnEnchant
;aaDusfergonSetModel
;aaDusfergonCalcXPReq
;aaDusfergonIncrVal
;-----------------------------------------------------------------------------

;Related globals
;-----------------------------------------------------------------------------
;aaDusfergonEquip
;-----------------------------------------------------------------------------

;Description
;-----------------------------------------------------------------------------
;Un/sets Equip flag and OnHitWith event handler when un/equipping the weapon.
;-----------------------------------------------------------------------------

;Parameters
;-----------------------------------------------------------------------------
;-----------------------------------------------------------------------------



;-----------------------------------------------------------------------------
begin OnUnEquip Player
;-----------------------------------------------------------------------------

	Set aaDusfergonEquip to 0
	;GetSelf rarely returns the ID of the Player instead of the object, so we hardcode the ObjectID.
	RemoveEventHandler "OnHitWith" aaDusfergonOnHit "object"::DLScalar3

;-----------------------------------------------------------------------------
end ;OnUnequip Player
;-----------------------------------------------------------------------------



;-----------------------------------------------------------------------------
begin OnEquip Player
;-----------------------------------------------------------------------------

	Set aaDusfergonEquip to 1
	SetEventHandler "OnHitWith" aaDusfergonOnHit "object"::DLScalar3

;-----------------------------------------------------------------------------
end ;OnEquip Player
;-----------------------------------------------------------------------------